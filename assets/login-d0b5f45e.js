import{d as T,u as U,a as $,r as d,b as q,c as z,o as E,e as t,f as p,g as h,w as r,h as o,i as J,j as i,k as a,l as x,m,n as A,v as F,p as k,s as b}from"./index-0e2dd45f.js";const G={key:0,class:"fill-height d-flex align-center justify-center w-100"},H=i("div",{class:"font-weight-bold text-h4 text-md-h2"},[m(" 蓝楹会"),i("br"),m(" Jacaranda Stock ")],-1),K=i("div",{class:"text-subtitle-1"}," 合格投资者的摇篮 ",-1),L={class:"d-flex justify-end"},Q=T({__name:"login",setup(O){const v=U();$();const y=d("https://cdn.devdojo.com/images/november2020/hero-image.jpeg"),l=d(""),u=d(""),s=d({username:"",password:""}),{name:V}=q(),j=z(()=>V.value==="xs"),_=d(!0);E(()=>{_.value=!1});async function C(){try{if(l.value===""){s.value.username="用户名不能为空";return}const e=await k.post("/login",{username:l.value,password:u.value});if(e.data.status==="success"){b(e.data.access_token),await v.push(e.data.redirect);return}else s.value.username=e.data.message,s.value.password=" "}catch(e){console.log(e)}}async function B(){try{if(l.value===""){s.value.username="用户名不能为空";return}const e=await k.post("/register",{username:l.value,password:u.value});if(e.data.status==="success"){b(e.data.access_token),await v.push(e.data.redirect);return}else s.value.username=e.data.message,s.value.password=" "}catch(e){console.log(e)}}return(e,n)=>{const I=t("v-progress-circular"),f=t("v-text-field"),M=t("v-form"),g=t("v-btn"),N=t("v-card"),w=t("v-col"),S=t("v-img"),D=t("v-row"),R=t("v-container");return p(),h(R,{class:"fill-height"},{default:r(()=>[o(_)?(p(),J("div",G,[i("div",null,[a(I,{color:"deep-purple-accent-4",indeterminate:"",rounded:"",size:50})])])):(p(),h(D,{key:1,class:"h-100 d-flex align-center"},{default:r(()=>[a(w,{cols:"12",md:"6"},{default:r(()=>[a(N,{class:"pa-6 bg-transparent",elevation:"0"},{default:r(()=>[H,K,a(M,null,{default:r(()=>[a(f,{modelValue:o(l),"onUpdate:modelValue":n[0]||(n[0]=c=>x(l)?l.value=c:null),"error-messages":o(s).username,"validate-on":"input",label:"用户名",outlined:"",rules:[c=>c.length>0||"用户名不能为空"],class:"mt-4",required:"",onInput:n[1]||(n[1]=c=>o(s).username="")},null,8,["modelValue","error-messages","rules"]),a(f,{modelValue:o(u),"onUpdate:modelValue":n[2]||(n[2]=c=>x(u)?u.value=c:null),"error-messages":o(s).password,label:"密码",outlined:"",class:"mt-4",onInput:n[3]||(n[3]=c=>o(s).password="")},null,8,["modelValue","error-messages"])]),_:1}),i("div",L,[a(g,{class:"mt-4",color:"primary",onClick:C},{default:r(()=>[m("开始🎉")]),_:1})]),a(g,{block:"",variant:"outlined",elevation:"3",rounded:"2",class:"mt-4",color:"primary",onClick:B},{default:r(()=>[m(" 🔰 还没有创建账号? 点击我注册 ")]),_:1})]),_:1})]),_:1}),A(a(w,{cols:"12",md:"6"},{default:r(()=>[a(S,{src:o(y),"aspect-ratio":"1.7",class:"rounded-xl"},null,8,["src"])]),_:1},512),[[F,!o(j)]])]),_:1}))]),_:1})}}});export{Q as default};
