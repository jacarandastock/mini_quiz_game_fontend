import{d as S,u as D,a as M,r as d,b as R,c as T,e as o,o as U,f as $,w as n,g as a,h as r,i as g,j as i,k as m,l as q,v as J,m as w,s as h}from"./index-6af61504.js";const z=i("div",{class:"font-weight-bold text-h4 text-md-h2"},[m(" 蓝楹会"),i("br"),m(" Jacaranda Stock ")],-1),A=i("div",{class:"text-subtitle-1"}," 合格投资者的摇篮 ",-1),E={class:"d-flex justify-end"},H=S({__name:"login",setup(F){const v=D();M();const x=d("https://cdn.devdojo.com/images/november2020/hero-image.jpeg"),l=d(""),c=d(""),s=d({username:"",password:""}),{name:b}=R(),k=T(()=>b.value==="xs");async function V(){try{if(l.value===""){s.value.username="用户名不能为空";return}const e=await w.post("/login",{username:l.value,password:c.value});if(e.data.status==="success"){h(e.data.access_token),await v.push(e.data.redirect);return}else s.value.username=e.data.message,s.value.password=" ";console.log(e)}catch(e){console.log(e)}}async function y(){try{if(l.value===""){s.value.username="用户名不能为空";return}const e=await w.post("/register",{username:l.value,password:c.value});if(e.data.status==="success"){h(e.data.access_token),await v.push(e.data.redirect);return}else s.value.username=e.data.message,s.value.password=" "}catch(e){console.log(e)}}return(e,t)=>{const p=o("v-text-field"),C=o("v-form"),_=o("v-btn"),j=o("v-card"),f=o("v-col"),B=o("v-img"),I=o("v-row"),N=o("v-container");return U(),$(N,{class:"fill-height"},{default:n(()=>[a(I,{class:"h-100 d-flex align-center"},{default:n(()=>[a(f,{cols:"12",md:"6"},{default:n(()=>[a(j,{class:"pa-6 bg-transparent",elevation:"0"},{default:n(()=>[z,A,a(C,null,{default:n(()=>[a(p,{modelValue:r(l),"onUpdate:modelValue":t[0]||(t[0]=u=>g(l)?l.value=u:null),"error-messages":r(s).username,"validate-on":"input",label:"用户名",outlined:"",rules:[u=>u.length>0||"用户名不能为空"],class:"mt-4",required:"",onInput:t[1]||(t[1]=u=>r(s).username="")},null,8,["modelValue","error-messages","rules"]),a(p,{modelValue:r(c),"onUpdate:modelValue":t[2]||(t[2]=u=>g(c)?c.value=u:null),"error-messages":r(s).password,label:"密码",outlined:"",class:"mt-4",onInput:t[3]||(t[3]=u=>r(s).password="")},null,8,["modelValue","error-messages"])]),_:1}),i("div",E,[a(_,{class:"mt-4",color:"primary",onClick:V},{default:n(()=>[m("开始🎉")]),_:1})]),a(_,{block:"",variant:"outlined",elevation:"3",rounded:"2",class:"mt-4",color:"primary",onClick:y},{default:n(()=>[m(" 🔰 还没有创建账号? 点击我注册 ")]),_:1})]),_:1})]),_:1}),q(a(f,{cols:"12",md:"6"},{default:n(()=>[a(B,{src:r(x),"aspect-ratio":"1.7",class:"rounded-xl"},null,8,["src"])]),_:1},512),[[J,!r(k)]])]),_:1})]),_:1})}}});export{H as default};
